---
title: 'HTTP ν•µμ‹¬κ³Ό μ§μ ‘ κµ¬ν„μ„ ν†µν• κ°μΈμ μΈ μ •λ¦¬'
date: '2024-11-20'
tags: ['HTTP', 'Network', 'Protocol']
draft: false
summary: 'HTTPμ κ°λ…κ³Ό λ™μ‘ μ›λ¦¬, κ·Έλ¦¬κ³  Springκ³Όμ λΉ„κµ'
---

<TOCInline toc={props.toc} exclude="Introduction" />

## HTTP μ •λ¦¬ν•λ” λ©μ 

- `β€HTTPκ°€ λ­ ν•λ” κ±°λƒ?β€` λΌλ” μ§λ¬Έμ— λ‹µλ³€ ν•  μ μκΈ°.
- HTTPλ¥Ό μ§μ ‘ `κµ¬ν„` ν•΄λ³΄κΈ°.
  - κµ¬ν„ν•λ©°, λ°λλ λ¶€λ¶„μ— λ€ν•΄μ„ μ •λ¦¬ν•κΈ°.
- μ¤ν”„λ§μ΄λ‘ λΉ„κµ ν•΄λ³΄λ©΄μ„ μλ°” μ½”λ“λ΅λ” μ–΄λ–»κ² ν•λ” κ±΄μ§€ κ³ λ―Όν•κΈ°.
  - β€μ¤ν”„λ§μ€ μ „λ¶€ ν•΄μ£Όλλ°, μ—¬κΈ°μ—μ„λ” λ­κ°€ λ‹¤λ¥Έμ§€ κ³ λ―Όν•κΈ°β€

## HTTP κ°λ…

HTTPλ” `ν΄λΌμ΄μ–ΈνΈ - μ„λ²„` λ¨λΈμ„ κΈ°λ°μΌλ΅ ν•λ” `ν”„λ΅ν† μ½`μ΄λ‹¤. μ΄ λ¨λΈμ—μ„ ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚΄κ³ , μ„λ²„λ” ν•΄λ‹Ή μ”μ²­μ— λ€ν• μ‘λ‹µμ„ λλ ¤μ¤€λ‹¤. HTTPλ” μ£Όλ΅ μ›Ή νμ΄μ§€, μ΄λ―Έμ§€, JSON λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›μ„ λ• μ‚¬μ©ν•λ‹¤.

- `ν΄λΌμ΄μ–ΈνΈ:` μ”μ²­μ„ λ³΄λ‚΄λ” μ½
- `μ„λ²„:` μ”μ²­μ„ λ°›μ•„μ„ μ²λ¦¬ν•κ³  μ‘λ‹µμ„ λλ ¤μ£Όλ” μ½

### HTTP μ”μ²­ (Request)

- λ©”μ„λ“ (Method): ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² μ–΄λ–¤κ±Έ ν•κΈ° μ›ν•λ”μ§€ λ‚νƒ€λ‚Έλ‹¤.
  - `GET:` λ¦¬μ†μ¤λ¥Ό μ”μ²­(λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤λ” μ©λ„)
  - λ¦¬μ†μ¤λ¥Ό μ΅°νν•  λ• μ‚¬μ©, μ„λ²„μ—μ„ λ°μ΄ν„°λ¥Ό μ½λ” μ©λ„μ΄λ©°, λ°μ΄ν„°λ¥Ό λ³€κ²½ν•μ§€ μ•λ”λ‹¤.
  - `POST:` μ„λ²„μ— λ°μ΄ν„°λ¥Ό μ „μ†΅ (μƒλ΅μ΄ λ°μ΄ν„°λ¥Ό μƒμ„±)
  - μ„λ²„μ— λ°μ΄ν„°λ¥Ό μ „μ†΅ν•κ³ , λ³΄ν†µ λ¦¬μ†μ¤λ¥Ό μƒμ„±ν•  λ• μ‚¬μ©ν•λ‹¤.
  - `PUT:` μ„λ²„μ— λ°μ΄ν„°λ¥Ό μ—…λ°μ΄νΈ
  - λ¦¬μ†μ¤λ¥Ό μ „μ²΄μ μΌλ΅ μ—…λ°μ΄νΈν•  λ• μ‚¬μ©ν•λ‹¤.
  - `DELETE:` λ¦¬μ†μ¤λ¥Ό μ‚­μ 
  - μ„λ²„μ—μ„ λ¦¬μ†μ¤λ¥Ό μ‚­μ ν•  λ• μ‚¬μ©ν•λ‹¤.
- URL: μ”μ²­ν•  λ¦¬μ†μ¤μ κ²½λ΅
- ν—¤λ” (Header): μ¶”κ°€μ μΈ μΈμ¦ μ •λ³΄, λ°μ΄ν„° νƒ€μ… λ“±λ“±μ„ ν¬ν•¨ν•λ‹¤.
- λ³Έλ¬Έ (Body): μ£Όλ΅ post, put μ”μ²­μ—μ„ μ„λ²„μ— λ³΄λ‚΄λ” λ°μ΄ν„°κ°€ λ‹΄κΈ΄λ‹¤.

```java
GET /hello HTTP/1.1
Host: localhost:8080
Content-Type: application/json
```

### HTTP μ‘λ‹µ (Response)

μ„λ²„λ” μ”μ²­μ„ μ²λ¦¬ν• ν›„ μ‘λ‹µμ„ λ³΄λ‚Έλ‹¤.

- μƒνƒ μ½”λ“ (Status Code): μ”μ²­μ μ²λ¦¬ κ²°κ³Όλ¥Ό λ‚νƒ€λ‚Έλ‹¤.
  - `200 OK:` μ”μ²­μ΄ μ„±κ³µμ μΌλ΅ μ²λ¦¬λλ‹¤.
  - `3xx (λ¦¬λ‹¤μ΄λ ‰μ…)`: μ”μ²­ν• λ¦¬μ†μ¤κ°€ λ‹¤λ¥Έ κ³³μΌλ΅ μ΄λ™ν•λ‹¤.
  - `404 Not Found:` μ”μ²­ν• λ¦¬μ†μ¤λ¥Ό μ°Ύμ„ μ μ—†λ‹¤
  - `500 Internal Server  Error:` μ„λ²„ μ¤λ¥
- ν—¤λ” (Header): μ‘λ‹µμ— λ€ν• μ¶”κ°€ μ •λ³΄λ¥Ό ν¬ν•¨ν•λ‹¤.
  - e.g.) μ½ν…μΈ  νƒ€μ…, μΈμ½”λ”© λ°©μ‹
- λ³Έλ¬Έ (Body): μ”μ²­μ— λ€ν• μ‹¤μ  λ°μ΄ν„° (JSON, XML λ“±)

```java
HTTP/1.1 200 OK
Content-Type: application/json

{
  "message": "Hello, world!"
}
```

### HTTP / HTTPS κ°€ λ­”κ°€μ”?

`HTTP:` λ°μ΄ν„°λ¥Ό ν‰λ¬ΈμΌλ΅ μ „μ†΅ν•λ” ν”„λ΅ν† μ½λ΅, λ³΄μ•μ΄ μ·¨μ•½ν•λ‹¤.

`HTTPS:` HTTP + μ•”νΈν™”λ΅, ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ ν†µμ‹ μ΄ μ•”νΈν™”λμ–΄ μ•μ „ν• λ°©μ‹μΌλ΅ λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›μ„ μ μλ‹¤. HTTPSλ” κΈ°λ³Έμ μΌλ΅ λ³΄μ•μ„ μ„ν•΄ μ„λΉ„μ¤μ—μ„ μ‚¬μ©ν•΄μ•Ό ν•λ” ν‘μ¤€μ΄λ‹¤.

### β€HTTPκ°€ λ­”κ°€μ”?β€ μ§λ¬Έ λ‹µν•κΈ°

<aside>
    π“

    HTTPλ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›κΈ° μ„ν• `ν†µμ‹  ν”„λ΅ν† μ½`μ΄λ‹¤. μ£Όλ΅ `μ›Ή λΈλΌμ°μ €κ°€ μ„λ²„μ— μ”μ²­`μ„ λ³΄λ‚΄κ³ , `μ„λ²„κ°€ κ·Έμ— λ€ν• μ‘λ‹µμ„ λ°ν™`ν•λ” λ°©μ‹μΌλ΅ λ™μ‘ν•λ‹¤. `λ¬΄μƒνƒ ν”„λ΅ν† μ½`μ΄λΌ, μ”μ²­λ§λ‹¤ λ…λ¦½μ μΌλ΅ μ²λ¦¬λκ³ , GETμ΄λ‚ POST κ°™μ€ λ©”μ„λ“λ΅ λ°μ΄ν„°λ¥Ό μ΅°νν•κ±°λ‚ μ „μ†΅ν•  μ μλ‹¤.

</aside>

### λ¬΄μƒνƒ ν”„λ΅ν† μ½μ΄ λ­”κ°€μ”?

μ„λ²„κ°€ κ° ν΄λΌμ΄μ–ΈνΈ μ”μ²­ κ°„μ μƒνƒλ¥Ό μ μ§€ν•μ§€ μ•λ” ν”„λ΅ν† μ½μ„ λ§ν•λ‹¤. μ¦‰, `μ„λ²„λ” κ° μ”μ²­μ„ λ…λ¦½μ μΌλ΅ μ²λ¦¬`ν•λ©°, `μ΄μ „ μ”μ²­μ— λ€ν• μ •λ³΄λ¥Ό κΈ°μ–µν•μ§€ μ•λ”λ‹¤`

- e.g.) ν΄λΌμ΄μ–ΈνΈκ°€ A μ”μ²­μ„ λ³΄λ‚΄κ³ , κ·Έ λ‹¤μ B μ”μ²­μ„ λ³΄λ‚΄λ”λΌλ„, μ„λ²„λ” A μ”μ²­κ³Ό B μ”μ²­μ΄ μ—°κ΄€λμ–΄ μλ‹¤λ” `μ‚¬μ‹¤μ„ μ• μ μ—†λ‹¤`λ” λ»μ΄λ‹¤.
- λ§μ•½ μƒνƒ μ •λ³΄λ¥Ό μ μ§€ν•κ³  μ‹¶λ‹¤λ©΄, ν΄λΌμ΄μ–ΈνΈκ°€ `λ§¤ μ”μ²­λ§λ‹¤ ν•„μ”ν• μ •λ³΄` μ¦‰, `μ‚¬μ©μ μΈμ¦ μ •λ³΄ κ°™μ€ κ²ƒμ„ μ„λ²„`μ— λ³΄λ‚΄μ•Ό ν•λ” κ²ƒμ΄λ‹¤.

<aside>
    π“

    μƒνƒλ¥Ό μ μ§€ν•κΈ° μ„ν•΄ μΏ ν‚¤, μ„Έμ…, JWT κ°™μ€ κΈ°μ μ„ μ¶”κ°€μ μΌλ΅ μ‚¬μ©ν•΄ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°„μ μƒνƒλ¥Ό μ¶”μ ν•  μ μλ‹¤.

</aside>

### λ¬΄μƒνƒ ν”„λ΅ν† μ½μ μ¥/λ‹¨μ μ΄ λ­”κ°€μ”?

- `μ¥μ :`ν™•μ¥μ„±μ΄ μΆ‹λ‹¤λ” κ²ƒμ΄λ‹¤. μ„λ²„κ°€ κ° ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό κΈ°μ–µν•μ§€ μ•μ•„λ„ λλ―€λ΅, μ”μ²­ μ²λ¦¬μ— ν•„μ”ν• λ¦¬μ†μ¤κ°€ μ λ‹¤
- `λ‹¨μ :` ν΄λΌμ΄μ–ΈνΈκ°€ ν•„μ”ν• λ¨λ“  λ°μ΄ν„°λ¥Ό μ”μ²­μ— λ‹΄μ•„ λ³΄λ‚΄μ•Ό ν•λ―€λ΅, μ”μ²­μ΄ λ” λ³µμ΅ν•΄μ§ μ μλ‹¤.

### Socketμ΄ λ­”κ°€μ”?

<aside>
    π“

    λ„¤νΈμ›ν¬ μ—°κ²°μ„ λ‚νƒ€λ‚΄λ” κ°μ²΄λ΅,

    ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›κΈ° μ„ν• ν†µλ΅μ΄λ‹¤.

    **`μ‰½κ² λ§ν•΄**:` μ†μΌ“μ€ μ „ν™” ν†µν™”μ—μ„ μ „ν™”κΈ° κ°™μ€ μ—­ν• μ„ ν•λ‹¤.

    μ „ν™”κΈ°λ΅ μƒλ€λ°©(μ„λ²„)μ—κ² μ „ν™”λ¥Ό κ±Έμ–΄μ„ μ—°κ²°μ„ μ„¤μ •ν•λ” κ²ƒμ΄λ‹¤.

</aside>

μ†μΌ“μ€ λ„¤νΈμ›ν¬μ—μ„ `ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ ν†µμ‹ μ„ μ„ν• μ—”λ“ν¬μΈνΈ`λ¥Ό λ‚νƒ€λ‚Έλ‹¤. λ„¤νΈμ›ν¬ μƒμ—μ„ λ‘ μ»΄ν“¨ν„°κ°€ μ„λ΅ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›κΈ° μ„ν•΄μ„λ” `μ–‘μ½μ— μ†μΌ“`μ΄ μμ–΄μ•Ό ν•λ‹¤λ” κ²ƒμ΄λ‹¤.

- `μ†μΌ“μ μ—­ν• μ€?`
  - `μ—°κ²° μ„¤μ •:` ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ— λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›μ„ ν†µλ΅λ¥Ό λ§λ“λ” μ—­ν• μ„ ν•λ‹¤.
  - `λ°μ΄ν„° μ†΅μμ‹ :` μ†μΌ“μ„ ν†µν•΄ λ°μ΄ν„°λ¥Ό μ½κ³  μ“Έ μ μμ–΄μ•Ό ν•λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μ†μΌ“μ„ μ΄μ©ν•΄ μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚΄κ³ , μ„λ²„λ” μ‘λ‹µμ„ λ³΄λ‚Έλ‹¤.
- `μ†μΌ“μ κµ¬μ„± μ”μ†?`
  - `IP μ£Όμ† (host)` : ν†µμ‹ ν•  λ€μƒμ λ„¤νΈμ›ν¬ μ£Όμ†λ¥Ό μ§€μ •ν•λ‹¤.
  - `ν¬νΈ λ²νΈ (port)` : ν•λ‚μ IP μ£Όμ†μ— μ—¬λ¬ μ„λ²„λ¥Ό λ™μ‹μ— μ‹¤ν–‰ν•  μ μκΈ° λ•λ¬Έμ—, κ°κ°μ μ„λΉ„μ¤λ” κ³ μ ν• ν¬νΈ λ²νΈλ¥Ό μ‚¬μ©ν•μ—¬ ν†µμ‹ ν•λ‹¤.

<aside>
    π“

    ν‰μ† μ‚¬μ©ν•λ” `localhost:8080` μ— λ€ν•΄ μ„¤λ…ν•μλ©΄, Socket κ°μ²΄λ” `localhost:8080` μ— μ—°κ²°μ„ μ‹λ„ν•λ ¤λ” ν΄λΌμ΄μ–ΈνΈλ¥Ό μƒμ„±ν•λ‹¤.

    μ¦‰, `IP μ£Όμ† localhost`μ™€ `ν¬νΈ λ²νΈ 8080`μΌλ΅ νΉμ • μ„λ²„μ— μ—°κ²°ν•λ‹¤.

</aside>

## ν•΄κ²°

### μ”μ²­μ„ ν•΄μ„ μ‘λ‹µμ„ λ°›λ” ν΄λμ¤ μ΄λ‹¤.

- ν΄λΌμ΄μ–ΈνΈ(μ†μΌ“)κ°€ `localhost:8080` μ„λ²„μ— `HTTP GET` μ”μ²­μ„ λ³΄λ‚΄κ³ ,
μ„λ²„λ΅λ¶€ν„° μ‘λ‹µμ„ λ°›μ€ ν›„ κ·Έ κ²°κ³Όλ¥Ό μ¶λ ¥ν•λ” ν”„λ΅κ·Έλ¨μ΄λ‹¤.

```java

import java.io.IOException;
import java.net.Socket;

/**
 * μ”μ²­μ„ ν•λ” μ„λ²„λ” `source server`λ‹¤. μ”μ²­μ„ λ°›λ” μ„λ²„λ” `target server`λ‹¤.
 * <p>
 * 1. μ²« λ²μ§Έλ” μ”μ²­μ„ ν•΄μ„ μ‘λ‹µμ„ λ°›λ” `source server`λ¥Ό μƒμ„±ν•λ‹¤.ex : λ―Όμ„λ‹ μ„λ²„(8081) <-> μ¤ν”„λ§ μ„λ²„(GET http://localhost:8080/hello) *
 */
public class SourceServer {
    /**
     * μ”μ²­μ„ ν•΄μ„ μ‘λ‹µμ„ λ°›λ” `source server`λ¥Ό μƒμ„± λ΅μ§
     */
    public static void main(String[] args) {
        String host = "localhost";
        int port = 8080;

        // κ³ μ •λ HTTP μ”μ²­ λ©”μ‹μ§€
        String httpRequest = """
                GET /hello HTTP/1.1
                Host: localhost:8080
                """;

        try (Socket socket = new Socket(host, port);
             BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));
             PrintWriter out = new PrintWriter(socket.getOutputStream(), true)) {

            System.out.println("μ„λ²„μ— μ—°κ²°λμ—μµλ‹λ‹¤. μ”μ²­μ„ λ³΄λƒ…λ‹λ‹¤.");

            // μ”μ²­ μ „μ†΅
            out.print(httpRequest);
            out.flush();

            System.out.println("μ”μ²­μ„ λ³΄λƒμµλ‹λ‹¤. μ‘λ‹µμ„ κΈ°λ‹¤λ¦¬λ” μ¤‘...");

            // μ‘λ‹µ μμ‹  λ° μ¶λ ¥
            StringBuilder response = new StringBuilder();
            String line;
            while ((line = in.readLine()) != null) {
                response.append(line).append("\n");
                if (line.isEmpty()) {
                    // λΉ μ¤„(ν—¤λ”μ λ)μ„ λ§λ‚λ©΄ λ³Έλ¬Έλ§ λ”°λ΅ μ½κΈ°
                    char[] buffer = new char[1024];
                    int charsRead;
                    while ((charsRead = in.read(buffer)) != -1) {
                        response.append(buffer, 0, charsRead);
                    }
                    break;
                }
            }

            System.out.println("μ„λ²„ μ‘λ‹µ:\n" + response);

        } catch (Exception e) {
            System.out.println("μ• μ μ—†λ” μ¤λ¥");
        }
    }
}

```

```java
- μ¶λ ¥κ°’ -

μ„λ²„μ— μ—°κ²°λμ—μµλ‹λ‹¤. μ”μ²­μ„ λ³΄λƒ…λ‹λ‹¤.
μ”μ²­μ„ λ³΄λƒμµλ‹λ‹¤. μ‘λ‹µμ„ κΈ°λ‹¤λ¦¬λ” μ¤‘...
μ„λ²„ μ‘λ‹µ:
HTTP/1.1 200 OK
Content-Type: text/html; charset=utf-8

<html><body><h1>Hello, Spring!!</h1></body></html>
```

- `String httpRequest = "GET /hello HTTP/1.1 Host: localhost:8080";`
  - `GET /hello:` /hello κ²½λ΅λ΅ GET μ”μ²­μ„ λ³΄λ‚΄λΌλ” μλ―Έμ΄λ‹¤.
  - `localhost:8080`: μ”μ²­ λ³΄λ‚΄λ” λ€μƒμΈ νΈμ¤νΈ(μ„λ²„)μ μ •λ³΄μ΄λ‹¤.

```java
Socket socket = new Socket(host, port);
```

- Socket κ°μ²΄λ” `λ„¤νΈμ›ν¬ μƒμ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ κ°„μ— μ—°κ²°μ„ μ„¤μ •ν•λ” μ—­ν• `
- `new Socket(host, port)`λ” localhostλΌλ” νΈμ¤νΈ(μμ‹ μ μ»΄ν“¨ν„°)μ™€ 8080 ν¬νΈμ— μλ” μ„λ²„μ™€ μ—°κ²°μ„ μ‹λ„ν•λ” λ…λ Ήμ΄λ‹¤.

### localhost:8080 λ€ν•΄ κ¶κΈμ¦.

<aside>
    π“

    "localhost" λΌλ” κ²ƒμ€ λ‚΄ μ»΄ν“¨ν„°λ¥Ό μλ―Έν•κ³ ,

    8080 ν¬νΈλ” `λ‚΄κ°€ μ—°κ²°ν•΄μ•Ό λ  μ„λ²„`μ μ •λ³΄λ¥Ό λ§ν•λ” κ±°μ•Ό?

    β†’ μ •λ‹µμ€ β€κ·Έλ ‡λ‹¤β€

</aside>

- `localhost`λ” μμ‹ μ μ»΄ν“¨ν„°λ¥Ό μλ―Έν•λ‹¤. μ¦‰, ν„μ¬ μ‹¤ν–‰ μ¤‘μΈ μ»΄ν“¨ν„°μ—μ„ μ„λ²„μ™€ ν†µμ‹ μ„ ν•λ‹¤λ” λ»μ΄λ‹¤. κ°λ° μ¤‘μ—λ” `localhost`λ¥Ό λ§μ΄ μ‚¬μ©ν•΄μ„ μμ‹ μ μ»΄ν“¨ν„°μ—μ„ μ„λ²„λ¥Ό μ‹¤ν–‰ν•λ‹¤.
- `8080 ν¬νΈ`λ” λ‚΄ μ»΄ν“¨ν„°μ—μ„ μ‹¤ν–‰ μ¤‘μΈ `μ„λ²„μ νΉμ • ν†µμ‹  μ±„λ„`μ΄λ‹¤. κ·Έμ¤‘ 8080λ² ν¬νΈμ—μ„ `ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ λ°›μ„ μ¤€λΉ„κ°€ λμ–΄ μλ” μƒνƒ`(μ„λ²„κ°€ λ™μ‘ν•λ‹¤)λ΅ λμ–΄ μμΌλ©΄, `new Socket(host, port)`λ” μ΄ `8080 ν¬νΈ`λ¥Ό ν†µν•΄ μ„λ²„μ™€ μ—°κ²°μ„ μ‹λ„ν•λ” κ²ƒμ΄λ‹¤.
  - `μ„λ²„κ°€ λ™μ‘ν•λ‹¤:` μ„λ²„κ°€ λ‚΄ μ»΄ν“¨ν„°μ 8080λ² ν¬νΈμ—μ„ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ λ€κΈ° μ¤‘μ΄λΌλ” λ».
  - e.g.) `Spring Boot`μ™€ κ°™μ€ μ›Ή μ„λ²„λ¥Ό λ‚΄ μ»΄ν“¨ν„°μ—μ„ μ‹¤ν–‰ν•λ©΄,
μΌλ°μ μΌλ΅ `8080λ² ν¬νΈ`μ—μ„ `μ›Ή μ„λ²„κ°€ λ€κΈ°`ν•κ³  μλ‹¤.

μ½”λ“ μ΄μ–΄μ„ μ„¤λ…

```java
BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));

- μ„λ²„μ—μ„ μ¤λ” λ°μ΄ν„°λ¥Ό μ°¨κ³΅μ°¨κ³΅ λ¨μ•„μ„ μ½μ„ μ μκ² ν•΄μ£Όλ” μ½”λ“μ΄λ‹¤.
- λ§μΉ ν• κΈ€μμ”© μ½κΈ°λ³΄λ‹¤λ” ν• νμ΄μ§€λ¥Ό ν• λ²μ— μ½λ” κ²ƒμ²λΌ ν•λ‹¤.
```

- `socket.getInputStream():` μ„λ²„μ—μ„ λ³΄λ‚΄μ¨ λ°μ΄ν„°λ¥Ό μ½κΈ° μ„ν• ν†µλ΅λ¥Ό μ—¬λ”κ²ƒμ΄λ‹¤. μ„λ²„κ°€ μ‘λ‹µ λ°μ΄ν„°λ¥Ό λ³΄λ‚΄λ©΄, μ΄ ν†µλ΅λ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό λ°›μ•„μ¬ μ μλ‹¤.
- `InputStreamReader:` λ°”μ΄νΈ λ‹¨μ„λ΅ λ°›μ€ λ°μ΄ν„°λ¥Ό λ¬Έμ λ‹¨μ„λ΅ λ³€ν™ν•΄μ¤€λ‹¤. μ»΄ν“¨ν„°λ” λ„¤νΈμ›ν¬ λ°μ΄ν„°λ¥Ό λ°”μ΄νΈλ΅ λ°›κΈ° λ•λ¬Έμ—, μ°λ¦¬κ°€ μ½μ„ μ μλ” λ¬Έμλ΅ λ°”κΏ”μ£Όλ” μ—­ν• μ„ ν•λ‹¤.
- `BufferedReader:` μ…λ ¥ μ†λ„λ¥Ό κ°μ„ ν•κΈ° μ„ν•΄ λ°μ΄ν„°λ¥Ό μ„μ‹ μ €μ¥μ†μ— λ¨μ•„λ‘κ³ , ν•λ²μ— μ½μ„ μ μκ² λ„μ™€μ¤€λ‹¤.

```java
PrintWriter out = new PrintWriter(socket.getOutputStream(), true);

- PrintWriterλ” μ„λ²„λ΅ λ°μ΄ν„°λ¥Ό λ¬Έμ ν•νƒλ΅ κΉ”λ”ν•κ² λ³΄λ‚΄λ” ν΄λμ¤μ΄λ‹¤.
- λ§μΉ νΈμ§€λ¥Ό μ¨μ„ μƒλ€λ°©(μ„λ²„)μ—κ² λ°”λ΅ λ³΄λ‚΄λ” κ²ƒκ³Ό κ°™λ‹¤.
```

- **`socket.getOutputStream()**:` μ„λ²„λ΅ λ°μ΄ν„°λ¥Ό λ³΄λ‚Ό μ μλ” ν†µλ΅λ¥Ό μ—°λ‹¤. ν΄λΌμ΄μ–ΈνΈ(μ†μΌ“)κ°€ μ„λ²„μ—κ² μ”μ²­ λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄κΈ° μ„ν•΄ μ΄ ν†µλ΅λ¥Ό μ‚¬μ©ν•λ‹¤.
- `PrintWriter:` λ¬Έμ λ°μ΄ν„°λ¥Ό μ¶λ ¥ν•  μ  μλ„λ΅ λ„μ™€μ£Όλ” ν΄λμ¤μ΄λ‹¤.
  - μ¦‰, μ„λ²„λ΅ ν…μ¤νΈ λ°μ΄ν„°λ¥Ό λ³΄λ‚Ό λ• μ‚¬μ©ν•λ‹¤.
- `λ‘ λ²μ§Έ μΈμ true:` μλ™μΌλ΅ λ°μ΄ν„°λ¥Ό μ¦‰μ‹ μ „μ†΅ν•κ² λ§λ“ λ‹¤. μ΄λ¥Ό β€auto-flushβ€ λΌκ³  λ¶€λ¥΄λ©°, λ°μ΄ν„°λ¥Ό λ²„νΌ μ— λ‹΄μ•„λ‘μ§€ μ•κ³  λ°”λ΅ μ„λ²„λ΅ λ³΄λ‚΄κ² μ„¤μ •ν•λ” κ²ƒμ΄λ‹¤.

```java
out.print(httpRequest);
out.flush();

- μ”μ²­ μ „μ†΅: httpRequest μ— λ‹΄κΈ΄ http μ”μ²­ λ©”μ‹μ§€λ¥Ό μ„λ²„μ— λ³΄λ‚Έλ‹¤.
```

- `out.print(httpRequest):` μ”μ²­μ„ μ „μ†΅ν•©λ‹λ‹¤.
- `out.flush():` λ²„νΌμ— μλ” λ‚΄μ©μ„ κ°•μ λ΅ μ„λ²„λ΅ λ³΄λ‚Έλ‹¤.

```java
StringBuilder response = new StringBuilder();
String line;
while ((line = in.readLine()) != null) {

- μ‘λ‹µ μμ‹  μ‹μ‘: μ„λ²„λ΅λ¶€ν„° μ‘λ‹µμ„ ν• μ¤„μ”© μ½μ–΄μ¨λ‹¤.
```

- `in.readLine():` μ„λ²„ μ‘λ‹µμ„ ν• μ¤„μ”© μ½λ”λ‹¤.
- `StringBuilder:` μ‘λ‹µμ„ μ €μ¥ν•  λ• μ‚¬μ©λλ” κ°€λ³€ λ¬Έμμ—΄ κ°μ²΄μ΄λ‹¤.

```java
response.append(line).append("\n");
if (line.isEmpty()) {
```

- `μ‘λ‹µ μ €μ¥:` μ„λ²„λ΅λ¶€ν„° μ½μ€ λ°μ΄ν„°λ¥Ό `response`μ— μ¶”κ°€ν•λ‹¤.

λ§μ•½ λΉ μ¤„μ„ λ§λ‚λ©΄, `HTTP ν—¤λ”κ°€ λλ‚¬μ`μ„ μλ―Έν•©λ‹λ‹¤.


```java
char[] buffer = new char[1024];
int charsRead;
while ((charsRead = in.read(buffer)) != -1) {
    response.append(buffer, 0, charsRead);
}
```

- `λ³Έλ¬Έ μ½κΈ°:` ν—¤λ”κ°€ λλ‚κ³  λ‚λ©΄, λ‚¨μ€ λ°μ΄ν„°λ¥Ό bufferμ— μ €μ¥ν•λ©΄μ„ λ³Έλ¬Έ λ‚΄μ©μ„ κ³„μ† μ½λ”λ‹¤.

### ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ λ°›μ•„μ„ μ‘λ‹µμ„ λ³΄λ‚΄λ” ν΄λμ¤ μ΄λ‹¤.

- ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ λ°›μ•„ `8081`λ² ν¬νΈμ—μ„ λ€κΈ°ν•κ³  μλ‹¤κ°€, μ”μ²­μ΄ λ“¤μ–΄μ¤λ©΄ `μƒλ΅μ΄ μ¤λ λ“μ—μ„ μ”μ²­`μ„ μ²λ¦¬ν• ν›„, `HTML μ‘λ‹µμ„ ν΄λΌμ΄μ–ΈνΈμ—κ² λ°ν™`ν•λ” μ„λ²„ ν”„λ΅κ·Έλ¨ μ΄λ‹¤.

```java

import java.io.IOException;
import java.net.Socket;

/**
 * μ”μ²­μ„ ν•λ” μ„λ²„λ” `source server`λ‹¤. μ”μ²­μ„ λ°›λ” μ„λ²„λ” `target server`λ‹¤.
 * <p>
 * 2. λ‘ λ²μ§Έλ” μ”μ²­μ„ λ°›μ•„μ„ μ‘λ‹µμ„ λ‚΄λ ¤μ£Όλ” `target server`λ¥Ό μƒμ„±ν•λ‹¤. ex : curl http://localhost:8081/hello <-> λ―Όμ„λ‹ μ„λ²„(8081)
 */
public class TargetServer {
    /**
     * μ”μ²­μ„ λ°›μ•„μ„ μ‘λ‹µμ„ λ‚΄λ ¤μ£Όλ” `target server` μƒμ„± λ΅μ§
     */
    public static void main(String[] args) {
        try(ServerSocket listenSocket = new ServerSocket(8081)) {

            // ν΄λΌμ΄μ–ΈνΈκ°€ μ—°κ²°λ λ•κΉμ§€ λ€κΈ°ν•λ‹¤.
            Socket connection;
            while ((connection = listenSocket.accept()) != null) {
                RequestHandler requestHandler = new RequestHandler(connection);
                Thread thread = new Thread(requestHandler);
                thread.start();
            }

        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    private static class RequestHandler implements Runnable {
        private final Socket connection;

        public RequestHandler(Socket connection) {
            this.connection = connection;
        }

        @Override
        public void run() {
            try (BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));
                 PrintWriter out = new PrintWriter(connection.getOutputStream(), true)) {

                String request = in.readLine();
                System.out.println("Request: " + request);

                out.println("HTTP/1.1 200 OK");
                out.println("Content-Type: application/json; charset=utf-8");
                out.println();
                out.println("<html><body><h1>Hello, Spring!</h1></body></html>");
                out.println();

            } catch (IOException e) {
                throw new RuntimeException(e);
            }
        }
    }
}

```

```java
try (ServerSocket listenSocket = new ServerSocket(8081)) {
```

- `ServerSocket κ°μ²΄ μƒμ„±:` 8081λ² ν¬νΈμ—μ„ μ„λ²„κ°€ λ€κΈ°ν•λ‹¤.

```java
Socket connection;
while ((connection = listenSocket.accept()) != null) {
```

- `ν΄λΌμ΄μ–ΈνΈ μ—°κ²° λ€κΈ°:` listenSocket.accept() λ” ν΄λΌμ΄μ–ΈνΈκ°€ μ—°κ²°μ„ μ”μ²­ν•  λ•κΉμ§€ μ„λ²„κ°€ λ€κΈ°ν•λ” μ—­ν• μ„ ν•λ‹¤. ν΄λΌμ΄μ–ΈνΈκ°€ μ—°κ²°μ„ μ‹λ„ν•λ©΄ μƒλ΅μ΄ μ†μΌ“ connectionμ„ μƒμ„±ν•λ‹¤.

```java
RequestHandler requestHandler = new RequestHandler(connection);
Thread thread = new Thread(requestHandler);
thread.start();
```

- `μ”μ²­ μ²λ¦¬ μ¤λ λ“ μƒμ„±:` RequestHandlerλΌλ” ν΄λμ¤λ΅ κ° ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ μ²λ¦¬ν•λ” μ¤λ λ“λ¥Ό μƒμ„±ν•λ‹¤.
  - μ΄λ ‡κ² ν•λ‹¤λ©΄, μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ λ™μ‹μ— μ²λ¦¬ν•  μ μκΈ° λ•λ¬Έμ΄λ‹¤.

```java
private final Socket connection;
```

- `ν΄λΌμ΄μ–ΈνΈ μ†μΌ“ μ €μ¥:` ν΄λΌμ΄μ–ΈνΈμ™€ μ—°κ²°μ„ κ΄€λ¦¬ν•λ” Socket κ°μ²΄λ¥Ό μ €μ¥ν•λ‹¤.

```java
try (BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));
     PrintWriter out = new PrintWriter(connection.getOutputStream(), true)) {
```

- `in:` ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° λ°μ΄ν„°λ¥Ό μ…λ ¥λ°›κΈ° μ„ν•΄ BufferedReaderλ¥Ό μ‚¬μ©ν•λ‹¤.
  - InputStreamReader λ΅ `μ…λ ¥ μ¤νΈλ¦Όμ„ λ¬Έμλ΅ λ³€ν™`ν•λ‹¤.
- `out:` ν΄λΌμ΄μ–ΈνΈμ—κ² μ‘λ‹µμ„ λ³΄λ‚΄κΈ° μ„ν•΄ PrintWriter λ¥Ό μ‚¬μ©ν•λ‹¤.
  - `λ°μ΄ν„°λ¥Ό λ³΄λ‚΄λ” μ¶λ ¥` μ¤νΈλ¦Όμ΄λ‹¤.

```java
String request = in.readLine();
System.out.println("Request: " + request);
```

- `μ”μ²­ μ½κΈ°:` ν΄λΌμ΄μ–ΈνΈμ μ”μ²­ λ©”μ‹μ§€λ¥Ό ν• μ¤„ μ½μ–΄μ¨λ‹¤.
  - `in.readLine():` ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° λ°›μ€ HTTP μ”μ²­μ μ²« μ¤„
  - e.g.) `GET /hello HTTP/1.1` μ„ μ½μ–΄ μ¨λ‹¤.

```java
out.println("HTTP/1.1 200 OK");
out.println("Content-Type: text/html; charset=utf-8");
out.println();
out.println("<html><body><h1>Hello, Spring!!</h1></body></html>");
out.println();
```

- `μ‘λ‹µ λ³΄λ‚΄κΈ°`
  - `HTTP/1.1 200 OK:` ν΄λΌμ΄μ–ΈνΈμ—κ² μ”μ²­μ΄ μ„±κ³µν–μμ„ μ•λ¦¬λ” μ‘λ‹µ μƒνƒ μ½”λ“μ΄λ‹¤.
  - `Content-Type: text/html; charset=utf-8:` μ‘λ‹µμ λ‚΄μ©μ΄ HTMLμ΄λ©°, UTF-8 λ¬Έμ μΈμ½”λ”©μ„ μ‚¬μ©ν•λ‹¤λ” κ²ƒμ„ μ•λ ¤μ¤€λ‹¤.

## μ‹¬ν™” ν•™μµ

### μ”μ²­μ„ ν•λ” μ„λ²„λ” `source server` μ΄λ‹¤.

```java
/**
 * μ”μ²­μ„ ν•λ” μ„λ²„λ” `source server` / μ”μ²­μ„ λ°›λ” μ„λ²„λ” `target server`
 * <p>
 * 1. μ²« λ²μ§Έλ” μ”μ²­μ„ ν•΄μ„ μ‘λ‹µμ„ λ°›λ” `source server`λ¥Ό μƒμ„±ν•λ‹¤.
 *    ex : λ―Όμ„λ‹ μ„λ²„(8080) <-> μ¤ν”„λ§ μ„λ²„(GET http://localhost:8080/hello)
 */
public class SourceServer {
    /**
     * μ”μ²­μ„ ν•΄μ„ μ‘λ‹µμ„ λ°›λ” `source server`λ¥Ό μƒμ„± λ΅μ§
     */
    public static void main(String[] args) {
        String host = "localhost";
        int port = 8081; // TargetServer ν¬νΈλ‘ κ°™μ•„μ•Ό ν•λ‹¤.

        // κ³ μ •λ HTTP μ”μ²­ λ©”μ‹μ§€ μΌ€μ΄μ¤1
        String httpRequest = """
                GET /hello HTTP/1.1
                Host: localhost:8081
                """;

        // κ³ μ •λ HTTP μ”μ²­ λ©”μ‹μ§€ μΌ€μ΄μ¤2
//        String httpRequest = """
//                GET /hi?message=HelloWorld&username=SourceServer HTTP/1.1
//                Host: localhost:8081
//                """;

        // κ³ μ •λ HTTP μ”μ²­ λ©”μ‹μ§€ μΌ€μ΄μ¤3
//        String httpRequest = """
//                GET /aaaa?message=HelloWorld&username=SourceServer HTTP/1.1
//                Host: localhost:8081
//                """;

        try (Socket socket = new Socket(host, port);
             BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));
             PrintWriter out = new PrintWriter(socket.getOutputStream(), true)) {

            System.out.println("μ„λ²„μ— μ—°κ²°λμ—μµλ‹λ‹¤. μ”μ²­μ„ λ³΄λƒ…λ‹λ‹¤.");

            // μ”μ²­ μ „μ†΅
            out.print(httpRequest);
            out.flush();

            System.out.println("μ”μ²­μ„ λ³΄λƒμµλ‹λ‹¤. μ‘λ‹µμ„ κΈ°λ‹¤λ¦¬λ” μ¤‘...");

            // μ‘λ‹µ μμ‹  λ° μ¶λ ¥
            StringBuilder response = new StringBuilder();
            String line;
            while ((line = in.readLine()) != null) {
                response.append(line).append("\n");
                if (line.isEmpty()) {
                    // λΉ μ¤„(ν—¤λ”μ λ)μ„ λ§λ‚λ©΄ λ³Έλ¬Έλ§ λ”°λ΅ μ½κΈ°
                    char[] buffer = new char[1024];
                    int charsRead;
                    while ((charsRead = in.read(buffer)) != -1) {
                        response.append(buffer, 0, charsRead);
                    }
                    break;
                }
            }

            System.out.println("μ„λ²„ μ‘λ‹µ:\n" + response);

        } catch (Exception e) {
            System.out.println("μ• μ μ—†λ” μ¤λ¥");
            e.printStackTrace();  // μμ™Έ μ •λ³΄ μ¶λ ¥
        }
    }
}

```

### μ”μ²­μ„ λ°›λ” μ„λ²„λ” `target server`λ‹¤.

```java
/**
 * μ”μ²­μ„ ν•λ” μ„λ²„λ” `source server`λ‹¤. μ”μ²­μ„ λ°›λ” μ„λ²„λ” `target server`λ‹¤.
 * <p>
 * 2. λ‘ λ²μ§Έλ” μ”μ²­μ„ λ°›μ•„μ„ μ‘λ‹µμ„ λ‚΄λ ¤μ£Όλ” `target server`λ¥Ό μƒμ„±ν•λ‹¤.
 *    ex : curl http://localhost:8081/hello <-> λ―Όμ„λ‹ μ„λ²„(8081)
 */
public class TargetServer {
    /**
     * μ”μ²­μ„ λ°›μ•„μ„ μ‘λ‹µμ„ λ‚΄λ ¤μ£Όλ” `target server` μƒμ„± λ΅μ§
     */
    public static void main(String[] args) {
        try (ServerSocket listenSocket = new ServerSocket(8081)) { // SourceServer ν¬νΈλ‘ κ°™μ•„μ•Ό ν•λ‹¤.

            // ν΄λΌμ΄μ–ΈνΈκ°€ μ—°κ²°λ λ•κΉμ§€ λ€κΈ°ν•λ‹¤.
            Socket connection;
            while ((connection = listenSocket.accept()) != null) {
                RequestHandler requestHandler = new RequestHandler(connection);
                Thread thread = new Thread(requestHandler);
                thread.start();
            }

        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    private static class RequestHandler implements Runnable {
        private final Socket connection;

        public RequestHandler(Socket connection) {
            this.connection = connection;
        }

        @Override
        public void run() {
            try (BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));
                 PrintWriter out = new PrintWriter(connection.getOutputStream(), true)) {

                String request = in.readLine(); // e.g.) "GET /hello?message=HelloWorld&username=minSeok HTTP/1.1" μ½μ–΄ μ¨λ‹¤.
                System.out.println("Request: " + request);

                // μ”μ²­ κ²½λ΅μ™€ μΏΌλ¦¬ νλΌλ―Έν„° νμ‹±
                String[] requestParts = request.split(" ");
                String pathWithQuery = requestParts[1]; // "/hello?message=HelloWorld&username=minSeok"

                String path = pathWithQuery.split("\\?")[0]; // "/hello"
                Map<String, String> queryParams = parseQueryParams(pathWithQuery);

                // μ΄ν›„ μ΅°κ±΄λ¬Έμ€ κ·Έλ€λ΅ μ μ§€
                String responseBody;
                if ("/hello".equals(path)) {
                    responseBody = "<html><body><h1>μΌ€μ΄μ¤1) Hello, " + queryParams.getOrDefault("username", "κ²μ¤νΈ") +
                            "</h1><p>Message: " + queryParams.getOrDefault("message", "λ©”μ‹μ§€ μ—†λ‹¤") + "</p></body></html>";
                } else if ("/hi".equals(path)) {
                    responseBody = "<html><body><h1>μΌ€μ΄μ¤2) Hi, " + queryParams.getOrDefault("username", "κ²μ¤νΈ") +
                            "</h1><p>Message: " + queryParams.getOrDefault("message", "λ©”μ‹μ§€ μ—†λ‹¤") + "</p></body></html>";
                } else {
                    responseBody = "<html><body><h1>μ°Ύμ„ μ μ—†λ‹¤.</h1></body></html>";
                }

                // HTTP μ‘λ‹µ μ „μ†΅
                // SourceServerλ¥Ό μ‹¤ν–‰ μ‹ν‚¤λ©΄ μ—¬κΈ°μ„ μ •ν•΄μ¤€ λ€λ΅ μ¶λ ¥ λλ”κ²ƒμ΄λ‹¤.
                out.println("HTTP/1.1 200 OK");
                out.println("Content-Type: text/html; charset=utf-8");
                out.println();
                out.println(responseBody);
                out.println();

            } catch (IOException e) {
                throw new RuntimeException(e);
            }
        }

        // μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό νμ‹±ν•λ” λ©”μ„λ“
        private Map<String, String> parseQueryParams(String pathWithQuery) {
            Map<String, String> queryParams = new HashMap<>();

            if (pathWithQuery.contains("?")) {
                String queryString = pathWithQuery.split("\\?")[1];  // "message=HelloWorld&username=minSeok"
                String[] params = queryString.split("&");

                for (String param : params) {
                    String[] keyValue = param.split("=");
                    if (keyValue.length == 2) {
                        String key = URLDecoder.decode(keyValue[0], java.nio.charset.StandardCharsets.UTF_8);
                        String value = URLDecoder.decode(keyValue[1], java.nio.charset.StandardCharsets.UTF_8);
                        queryParams.put(key, value);
                    }
                }
            }

            return queryParams;
        }
    }
}

```

- μ‹¬ν™” ν•™μµμ„ μ§„ν–‰ν•λ©΄μ„ λκΌλ κ²ƒμ€, μ •λ§ ν•λ‚λΌλ„ κ·Έλƒ¥ μ“°μ΄λ”κ² μ—†λ‹¤λ” λλ‚μ„ λ°›μ•λ‹¤.
  - e.g.) `β€?β€` , `β€&β€` , `β€=β€` κ°™μ€ νΉμ λ¬Έμλ“¤μ΄ κ΄ν μλ”κ² μ•„λ‹λΌλ” μƒκ°μ„ ν•μ€λ‹¤.

### http μ”μ²­ νμ‹± λ° μ²λ¦¬ κ³Όμ •.

```java
String request = in.readLine(); // e.g., "GET /hello?message=HelloWorld&username=minSeok HTTP/1.1"
String[] requestParts = request.split(" ");
String pathWithQuery = requestParts[1]; // "/hello?message=HelloWorld&username=minSeok"
String path = pathWithQuery.split("\\?")[0]; // "/hello"
Map<String, String> queryParams = parseQueryParams(pathWithQuery);
```

- `μ”μ²­ νμ‹±:` ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚Έ HTTP μ”μ²­ λ¬Έμμ—΄μ„ μ½μ–΄μ¤κ³ , `split(" ")`μ„ ν†µν•΄ μ”μ²­ `λ©”μ„λ“(GET)`, `κ²½λ΅`, `HTTP λ²„μ „`μ„ `λ¶„λ¦¬ μ‘μ—…`μ„ ν•λ‹¤. μ—¬κΈ°μ„ κ²½λ΅`(/hello?message=HelloWorld&username=minSeok)`μ™€ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ¶”μ¶ν•λ‹¤.
- `κ²½λ΅ μ¶”μ¶:` `split("\\?")[0]`μ„ μ‚¬μ©ν•μ—¬ μΏΌλ¦¬ νλΌλ―Έν„° `(?message=HelloWorld&username=minSeok)` μ΄μ „μ κ²½λ΅λ§ μ¶”μ¶ν•λ‹¤.
- `μΏΌλ¦¬ νλΌλ―Έν„° νμ‹±:` parseQueryParams() λ©”μ„λ“λ¥Ό ν†µν•΄ κ²½λ΅μ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ¶”μ¶ν•κ³ , `Map<String, String>` ν•νƒλ΅ μ €μ¥ν•λ‹¤.
  - `e.g.) message=HelloWorld, username=minSeok.`

### μ΅°κ±΄μ— λ”°λ¥Έ μ‘λ‹µ μ²λ¦¬

```java
if ("/hello".equals(path)) {
    responseBody = "<html><body><h1>μΌ€μ΄μ¤1) Hello, " + queryParams.getOrDefault("username", "κ²μ¤νΈ") +
                   "</h1><p>Message: " + queryParams.getOrDefault("message", "λ©”μ‹μ§€ μ—†λ‹¤") + "</p></body></html>";
} else if ("/hi".equals(path)) {
    responseBody = "<html><body><h1>μΌ€μ΄μ¤2) Hi, " + queryParams.getOrDefault("username", "κ²μ¤νΈ") +
                   "</h1><p>Message: " + queryParams.getOrDefault("message", "λ©”μ‹μ§€ μ—†λ‹¤") + "</p></body></html>";
} else {
    responseBody = "<html><body><h1>μ°Ύμ„ μ μ—†λ‹¤.</h1></body></html>";
}

```

- `κ²½λ΅μ— λ”°λ¥Έ μ‘λ‹µ:` μ”μ²­ κ²½λ΅κ°€ `/hello`μΌ κ²½μ°μ™€ `/hi`μΌ κ²½μ°μ— λ§μ¶° μ‘λ‹µμ„ λ‹¤λ¥΄κ² μ²λ¦¬ν•λ‹¤.
- `μΏΌλ¦¬ νλΌλ―Έν„° κ°’ μ‚¬μ©:` `queryParams.getOrDefault()` λ©”μ„λ“λ¥Ό ν†µν•΄, μΏΌλ¦¬ νλΌλ―Έν„°κ°€ μ—†μΌλ©΄ κΈ°λ³Έκ°’μ„ μ„¤μ •ν•λ‹¤.
  - e.g.) `username` νλΌλ―Έν„°κ°€ μ—†μΌλ©΄ `"κ²μ¤νΈ"`λΌλ” κ°’μ΄ κΈ°λ³Έκ°’μΌλ΅ μ‚¬μ©λ©λ‹λ‹¤.

## μ¤ν”„λ§ ν”„λ μ„μ›ν¬μ™€μ μ°¨μ΄

Spring Frameworkμ—μ„λ” μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό `μλ™`μΌλ΅ `νμ‹±ν•  ν•„μ” μ—†μ΄`, Springμ΄ μ κ³µν•λ” μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•΄ κ°„νΈν•κ² μ²λ¦¬ν•  μ μμ—λ‹¤.

μ¦‰, Springμ€ `HTTP μ”μ²­μ—μ„ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μλ™μΌλ΅ μ¶”μ¶`ν•κ³ , μ΄λ¥Ό λ©”μ„λ“ λ§¤κ°λ³€μλ΅ μ „λ‹¬ ν•΄μ¤¬λ‹¤. μ΄λ¥Ό κ°€λ¥ν•κ² ν•λ” μ–΄λ…Έν…μ΄μ…μ€ `@RequestParam`μ΄λ‹¤.

μ΄ μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•λ©΄, μΏΌλ¦¬ μ¤νΈλ§μ— ν¬ν•¨λ νλΌλ―Έν„°λ¥Ό μ‰½κ² λ°›μ•„μ¨λ‹¤.

```java
@RestController
public class MyController {

    // /hello?message=HelloWorld&username=minSeok κ°™μ€ μ”μ²­μ„ μ²λ¦¬
    @GetMapping("/hello")
    public String hello(@RequestParam(value = "message",  defaultValue = "No message") String message, // "message" νλΌλ―Έν„° μλ™ μ¶”μ¶
                        @RequestParam(value = "username", defaultValue = "Guest")      String username) {  // "username" νλΌλ―Έν„° μλ™ μ¶”μ¶

        return "<html><body><h1>Hello, " + username + "!</h1><p>Message: " + message + "</p></body></html>";
    }

    // /hi?message=HiThere&username=JohnDoe κ°™μ€ μ”μ²­μ„ μ²λ¦¬
    @GetMapping("/hi")
    public String hi(@RequestParam(value = "message",  defaultValue = "No message") String message,
                     @RequestParam(value = "username", defaultValue = "Guest")      String username) {

        return "<html><body><h1>Hi, " + username + "!</h1><p>Message: " + message + "</p></body></html>";
    }
}
```

### μ£Όμ” μ°¨μ΄μ 

- `μλ™ μ²λ¦¬:` `@RequestParam` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•λ©΄ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μΌμΌμ΄ νμ‹±ν•λ” μ½”λ“λ¥Ό μ‘μ„±ν•  ν•„μ”κ°€ μ—†λ‹¤.
- `λ°μ΄ν„° νƒ€μ… μλ™ λ³€ν™:` Springμ€ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μλ™μΌλ΅ μ μ ν• λ°μ΄ν„° νƒ€μ…μΌλ΅ λ³€ν™ν•λ‹¤. μλ¥Ό λ“¤μ–΄, μΏΌλ¦¬ νλΌλ―Έν„°κ°€ μ«μμΌ κ²½μ° `int`λ΅ λ³€ν™ν•κ±°λ‚, `boolean` κ°™μ€ νƒ€μ…μΌλ΅ μλ™ λ³€ν™ν•  μ μλ‹¤.
- **`κ°„κ²°ν• μ½”λ“**:` Springμ„ μ‚¬μ©ν•λ©΄ μ½”λ“κ°€ ν›¨μ”¬ κ°„κ²°ν•΄μ§„λ‹¤. μ§μ ‘μ μΌλ΅ HTTP μ”μ²­μ„ νμ‹±ν•μ§€ μ•κ³ , λΉ„μ¦λ‹μ¤ λ΅μ§μ—λ§ μ§‘μ¤‘ν•  μ μλ‹¤λ” κ²ƒμ΄λ‹¤.

```java
### μμ‹ μ”μ²­ λ° μ²λ¦¬:

- μ”μ²­: `GET /hello?message=HelloWorld&username=minSeok`

- μλ™ μ²λ¦¬:
   - message=HelloWorld λ” `message` λ§¤κ°λ³€μλ΅ μλ™ ν• λ‹Ή λλ‹¤.
   - username=minSeok   μ€ `username` λ§¤κ°λ³€μλ΅ μλ™ ν• λ‹Ή λλ‹¤.

- κ²°κ³Ό:
   - "<html><body><h1>Hello, minSeok!</h1><p>Message: HelloWorld</p></body></html>"
```

`κ²°λ΅ `μ€ Springμ—μ„λ” μλ™μΌλ΅ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό νμ‹±ν•  ν•„μ” μ—†μ΄, `@RequestParam`μ„
ν†µν•΄ HTTP μ”μ²­μ νλΌλ―Έν„°λ¥Ό μλ™μΌλ΅ μ²λ¦¬ν•μ—¬ λ³€ν™ν•΄μ¤€λ‹¤λ” κ²ƒμ΄λ‹¤.

## κ²°λ΅ 

μ΄λ² ν•™μµμ„ ν†µν•΄ HTTPκ°€ `ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ λ¨λΈ`μ—μ„ μ–΄λ–»κ² λ™μ‘ν•λ”μ§€ μ§μ ‘ κµ¬ν„ν•λ©° μ΄ν•΄ν•  μ μμ—λ‹¤. HTTPλ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›κΈ° μ„ν• κΈ°λ³Έμ μΈ ν†µμ‹  ν”„λ΅ν† μ½μ΄λ©°, μ΄λ¥Ό μλ™μΌλ΅ κµ¬ν„ν•λ©΄μ„ HTTP `μ”μ²­, μ‘λ‹µ, ν—¤λ”, μƒνƒ μ½”λ“, μΏΌλ¦¬ νλΌλ―Έν„°` λ“±μ κ°λ…μ„ λ…ν™•ν λ‹¤μ΅λ‹¤.

μ§μ ‘ HTTPλ¥Ό κµ¬ν„ν•λ©΄μ„, μ†μΌ“μ„ μ‚¬μ©ν•΄ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ ν†µμ‹ μ„ μ–΄λ–»κ² μ„¤μ •ν•κ³  λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›λ”μ§€ κµ¬μ²΄μ μΌλ΅ μ• μ μμ—λ‹¤. νΉν, `μ”μ²­ νλΌλ―Έν„°λ¥Ό μλ™μΌλ΅ νμ‹±`ν•κ³  `μ‘λ‹µμ„ μ²λ¦¬ν•λ” κ³Όμ •`μ—μ„ λ³µμ΅ν•¨μ„ λλΌλ©°, `Springκ³Ό κ°™μ€ ν”„λ μ„μ›ν¬`κ°€ μ κ³µν•λ” `μλ™ν™”λ μ²λ¦¬ λ°©μ‹μ μ¥μ `μ„ μ²΄κ°ν•  μ μμ—λ‹¤.

κ²°λ΅ μ μΌλ΅, μ§μ ‘μ μΈ `μ†μΌ“ ν”„λ΅κ·Έλλ°μ„ ν†µν•΄ HTTP ν”„λ΅ν† μ½`μ„ μ΄ν•΄ν•λ” κΈ°μ΄λ¥Ό λ‹¤μ΅κ³ , Spring Frameworkμ κΈ°λ¥μ„ ν™μ©ν•¨μΌλ΅μ¨ κ°λ° μƒμ‚°μ„±μ„ λ†’μΌ μ μμμ„ κΉ¨λ‹¬μ•λ‹¤. μ•μΌλ΅ Springκ³Ό κ°™μ€ ν”„λ μ„μ›ν¬μ `μλ™ν™”λ κΈ°λ¥`μ„ λ” ν™μ©ν•λ©΄μ„λ„, μλ°” μ½”λ“ κµ¬ν„ μμ¤€μ—μ„μ `HTTP λ™μ‘ μ›λ¦¬μ— λ€ν• μ΄ν•΄`λ¥Ό λ² μ΄μ¤λ΅ ν¨μ¨μ μΈ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ„ κ°λ°ν•  μ μλ„λ΅ ν•΄μ•Όκ² λ‹¤.